<html>
<head>
<title>فرم پرداخت </title>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>

<style >
    *{
        direction: rtl;
       margin: 3%;
    }
    form {
        border: solid 2px rgb(245, 13, 167);
    }
    tr td :nth-child(1){
     width: 300px;
 }

 
</style>
</head>
<body>
    
    <div class="alert alert-danger text-center " role="alert" style="border-radius: 20px;" ><strong>  
      <h2>پرداخت جدید </h2>  </strong> </div>
       

    <form role="form" onsubmit="return  submitForm()"   method="post">
    <table border="0" align="center">
    <tbody>
    
    <tr>
    <td><label for="payId">شماره پرداخت : </label></td>
    <td><input id="payId" maxlength="50" name="payId" type="text" /></td>
    </tr>
    
    <tr>
    <td><label for="amount">مبلغ: </label></td>
    <td><input id="amount" maxlength="50" name="amount" type="text" /></td>
    </tr>
    
    <tr>
    <td><label for="description">توضیحات : </label></td>
    <td><input id="description" maxlength="50" name="description" type="text" /></td>
    </tr>
    
    <tr>
    <td><label for="payDate">تاریخ پرداخت : </label></td>
    <td><input id="payDate" maxlength="50" name="payDate" type="text" /></td>
    </tr>

    </tbody>
    </table>
    <input name="Submit" type="Submit" value="درج"    />
    </form>
    
    <script src="https://unpkg.com/axios/dist/axios.min.js" ></script>
    <script>
        function submitForm() {
            try {

                console.log("submit form");
                const payId = document.querySelector("#payId").value;
                const payDate = document.querySelector("#payDate").value;
                const amount = document.querySelector("#amount").value;
                const description = document.querySelector("#description").value;
                if (!payId || !payDate || !amount ||  !description) {
                    alert("وارد کردن همه موارد الزامی است")
                    return false;
                }
                const body = {
                    "payId": payId,
                    "payDate": payDate,
                    "amount": amount,
                    "description": description
                }
                axios.post("http://localhost:3001/api/student", body)
                    .then(res => {
                        alert("با موفقیت ذخیره شد");
                    }).catch(err => {
                        alert(err.message)
                    })
                return false;
            } catch (err) {
                console.log(err);
                return false;
    
            }
        }
    </script> 
</body>



</html>