<!DOCTYPE html>
<html lang="fa">
<head>
  <title>لیست پرداختهای دانشجویان</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
  <link rel="stylesheet" href="./style.css">
  <style> 
  body {margin:2em;
    direction: rtl;}
    td:last-child {text-align:center;}
  
  </style>
</head>
<body>
  <div class="alert alert-danger text-center " role="alert" ><strong>  لیست کلیه پرداختهای دانشجو</strong> </div>
<a class="btn btn-success" style="float:left;margin-right:10px;" href="https://codepen.io/collection/XKgNLN/" target="_blank">تنها مدیر سیستم قادر به ایجاد و حذف میباشد</a>
<table id="example" class="table table-striped table-bordered" cellspacing="0"  >
	<thead >
		<tr >
			<th style="width: 10%" class="text-center">شماره پرداخت</th>
			<th style="width: 10%" class="text-center">تاریخ پرداخت</th>
			<th style="width: 20%" class="text-center">مبلغ</th>
			<th style="width: 20%" class="text-center">کاربر وارد کننده</th>
			<th style="width: 20%" class="text-center">توضیحات</th>
			<th style="text-align:center; width: 5% "  class="text-center">ایجاد <button type="button"  onclick="addPayment()"  data-func="dt-add" class="btn btn-success btn-xs dt-add">
					<span class="glyphicon glyphicon-plus" aria-hidden="true"></span>
				</button></th>
		</tr>
	</thead>
	<tbody>
		<!-- <tr>
			
			<td>
				<button type="button" class="btn btn-primary btn-xs dt-edit" style="margin-right:10px;">
					<span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
				</button>
				<button type="button" class="btn btn-danger btn-xs dt-delete">
					<span class="glyphicon glyphicon-remove" aria-hidden="true"></span>
				</button>
			</td>
		  </tr> -->
		
	</tbody>
</table>

<!-- Modal -->
<div id="myModal" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <!-- Modal content-->
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
        <h4 class="modal-title">Row information</h4>
      </div>
      <div class="modal-body">
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
      </div>
    </div>

  </div>
</div>

</script>
<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
<script>
  axios.get("http://localhost:3001/api/student/")
  .then(res=>{
   document.querySelector("tbody").innerHTML= res.data.map((item,index)=>`
   <tr>
    <td>${item.payId}</td>
    <td>${item.payDate}</td>
    <td>${item.amount}</td>
    <td>${item.adminUsername}</td>
    <td>${item.description}</td>
	<td>
		<button type="button" class="btn btn-primary btn-xs dt-edit" style="margin-right:16px;">
			<span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
		</button>
		<button type="button" class="btn btn-danger btn-xs dt-delete">
			<span class="glyphicon glyphicon-remove" aria-hidden="true"></span>
		</button>
			</td>
   </tr>
   

	
   `).join("");
  }).catch(err=>{
    console.log(err);
  })
</script>

<script>
  function addPayment(){

      window.location.assign("/views/createPayment.html")
          }

</script>



</body>
</html>